.parallax
	position: relative
	overflow: hidden
	background-color: color-mod($color-base, 5)
	padding: 0 $spacing-viewport-small
	&.parallax-shaded
		background-color: $color-base
		.loading
			&:before, &:after
				background-color: color-mod($color-base, 2)
		&.parallax-loaded
			.parallax-image
				opacity: $multiplier_low
	+breakpoint-min($breakpoint-m)
		padding: 0 $spacing-viewport-large
	*
		color: $color-brand-contrast
	& > *:not(.loading)
		transition: opacity $default-transition-duration $default-transition-function
	.parallax-image
		position: absolute
		bottom: 0
		left: 0
		width: 100%
		min-height: 100%
		display: block
		background-size: cover
		background-position: center
	&.parallax-loaded
		& > *:not(.loading)
			opacity: 1
		.loading
			opacity: 0
			top: 40%
	&.parallax-loading
		& > *:not(.loading)
			opacity: 0
			-webkit-transition-duration: 0s
			transition-duration: 0s
		.loading
			opacity: 1
			top: 50%